# `@iroha2/data-model-schema`

The `@iroha2/data-model-schema` contains Iroha 2 Schema and related utilities.

## Contents

- **Schema** provides raw data model schema generated by [`kagami`](https://github.com/hyperledger/iroha/tree/iroha2-dev/tools/kagami):

  ```ts
  import { SCHEMA } from '@iroha2/data-model-schema'
  ```

- **Transformation** is used to transform raw schema into an intermediate schema accepted by `@scale-codec/definition-compiler` and used by codegen in `@iroha2/data-model`:

  ```ts
  import { SCHEMA, transformSchema } from '@iroha2/data-model-schema'
  import { renderNamespaceDefinition } from '@scale-codec/definition-compiler'

  const intermediate = transformSchema(SCHEMA)
  const code = renderNamespaceDefinition(intermediate)
  ```

## Installation

The packages are published under the `@iroha2` scope into Iroha Nexus Registry.
To install `data-model-schema` with `npm`/`pnpm`:

1. Configure your package manager to fetch scoped packages from Nexus Registry.

    ```ini
    # FILE: .npmrc
    @iroha2:registry=https://nexus.iroha.tech/repository/npm-group/
    ```

2. Install the `data-model-schema` package:

    ```shell
    npm i @iroha2/data-model-schema
    ```

**Important note**: this package is a pure TypeScript package, i.e. it is not pre-bundled, but it exports source TypeScript files. It works fine out-of-the-box with tools like Vite or `tsx`.
